<script>
    //create function that gives us the computer's choice
    function getComputerChoice() {
        //generate random number between 1 and 3
        //assign number to variable
        let number = Math.floor(Math.random()*3) + 1;
        let answer = "";
        //return string (rock/paper/scissors) based on number in variable
        if (number === 1){
            answer = "rock";
        } else if (number === 2){
            answer = "paper";
        } else {
            answer = "scissors";
        }
        return answer;
    }

    //create function that takes two parameters  (player and computer)
    function playRound(computerSelection, playerSelect = prompt("What's your choice (Rock/Paper/Scissors)? ")){
        //ensure player selection is case insensitive
        let playerChoice = playerSelect.toLowerCase();
        
        //compare player selection with computer selection, return winner
        if (playerChoice === computerSelection) {
            return "Game is tied!";
        } else if (computerSelection === "rock" && playerChoice === "paper") {
            return "You win! Paper beats Rock.";
        } else if (computerSelection === "rock" && playerChoice === "scissors") {
            return "You lose! Rock beats Scissors";
        } else if (computerSelection === "paper" && playerChoice === "rock") {
            return "You lose! Paper beats rock.";
        } else if (computerSelection === "paper" && playerChoice === "scissors") {
            return "You win! Scissors beat Paper.";
        } else if (computerSelection === "scissors" && playerChoice === "paper") {
            return "You lose! Scissors beat Paper.";
        } else if (computerSelection === "scissors" && playerChoice === "rock") {
            return "You win! Rock beats scissors.";
        } else {
            return "Invalid input";
        }
    }

    
    function playGame() {
        //declare local function variables
        let score_computer = 0;
        let score_player = 0;
        let i = 1
        let output;
        let finalScore;
        let roundDisplay

        for (; i <= 5; i++) {
            //Call playRound function to play game, for loop helps game to iterate 5 times
            output = playRound(getComputerChoice());    

            //display results for each round
            roundDisplay = `Round ${i}: `;
            console.log(roundDisplay);
            console.log(output);

            //keep score based on playRound() output
            //if output is win, increment player score
            //if output is lose, increment computer score
            //if output is a tie, do not change score
            if (output === "You win! Paper beats Rock."){
                ++score_player;
            } else if(output ==="You win! Rock beats scissors."){
                ++score_player;
                console.log("Stop!");
            } else if (output ==="You win! Scissors beat Paper."){
                ++score_player;
            } else if (output ==="You lose! Paper beats rock."){
                ++score_computer;
            } else  if (output ==="You lose! Rock beats Scissors"){
                ++score_computer;
            } else if (output ==="You lose! Scissors beat Paper.") {
                ++score_computer;
            }
        }
        //Check who the winner is based on points accumulated
        if (score_player > score_computer){
            finalScore = `Player vs Computer: ${score_player} : ${score_computer} \n Congratulations you won the game!`;
            console.log(finalScore);
        } else if (score_computer > score_player){
            finalScore = `Player vs Computer: ${score_player} : ${score_computer} \n You Lost the game!`;
            console.log(finalScore); 
        } else {
            console.log("Game tied");
        }
    }
    
    playGame();
</script>